function init(){resize(),hour(),setInterval(hour,1e3),$('[data-toggle="tooltip"]').tooltip(),countdown(),created(),splitPost(),growTextarea(),flashMessage(),notifs()}function resize(){fullHeight("aside","min")}function fullHeight(t,n){var e=$(document).height();n?$(t).css("min-height",e):$(t).css("height",e)}function hour(){var t=moment().format("H:mm:ss");$(".sideTimer").html(t)}function countdown(){$("[data-countdown]").each(function(){var t=$(this),n=$(this).data("countdown");$(t).countdown(n,function(n){var e=n.strftime("%-D"),a=n.strftime("%H");if(0!=e)var e="24";var a=parseInt(e)+parseInt(a);if("10">a)var a="0"+a;var i=n.strftime(a+":%M:%S");$(t).html(i),"00:00:00"==i&&$(t).parents(".post").hasClass("post-split")&&($(t).delay(1e5).parents(".column-item").slideUp(500,function(){$(this).remove()}),console.log("done"))})})}function created(){$("[data-created]").each(function(){moment.locale("fr");var t=$(this).data("created"),t=moment(t,"YYYY/MM/DD H:m:s").fromNow();$(this).html(t)})}function splitPost(){$(".post-split").each(function(){var t=$(this).find(".content").text(),n=150;t.length>n&&(t=t.substring(0,n),$(this).find(".content").html(t+" [...]"))})}function growTextarea(){$("textarea").click(function(){var t=$(this).data("open"),n=$(this);0==t&&($(n).stop().animate({height:"10rem"}),$(n).data("open",!0))}),$("*").click(function(t){if(!$(t.target).is("textarea")){var n=$("textarea"),e=$(n).data("open");1==e&&$(n).val()<1&&($(n).stop().animate({height:"3.4rem"}),$(n).data("open",!1))}})}function flashMessage(){$(".flash").hide().fadeIn("slow").delay(5e3).fadeOut(),$(".flash-close").click(function(){return $(this).parent().fadeOut("slow"),!1})}function notifs(){$(".notif-icon").click(function(){var t=$(".notif-alert ul").data("open");return 0==t?($(".notif-alert ul").fadeIn(),$(".notif-alert ul").data("open",!0)):($(".notif-alert ul").fadeOut(),$(".notif-alert ul").data("open",!1)),!1}),$("*").click(function(t){if(!$(t.target).is(".notif-alert *")){var n=$(".notif-alert ul").data("open");1==n&&($(".notif-alert ul").fadeOut(),$(".notif-alert ul").data("open",!1))}})}$(function(){init(),$(window).resize(function(){resize()})}),"#_=_"==window.location.hash&&(window.location.hash="",history.pushState("",document.title,window.location.pathname),e.preventDefault());
